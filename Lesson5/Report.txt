6.	В базе данных AdventureWorks2017 создать таблицу Patients для ведения наблюдений за температурой пациентов больницы. Таблица должна содержать поля:
	ID – числовое поле. Авто заполняется.
	FirstName – имя пациента.
	LastName – фамилия пациента.
	SSN – уникальный идентификатор пациента.
	Email – электронная почта пациента. Формируется по следующему правилу: первая большая буква FirstName + маленькие 3 буквы LastName + @mail.com (например, Akli@mail.com). Полезная ссылка здесь. 
	Temp – температура пациента.
	CreatedDate — дата измерений. 

	--	DROP TABLE Patients
	CREATE TABLE Patients (
		ID INT IDENTITY NOT NULL,
		FirstName NVARCHAR(100) NOT NULL,
		LastName NVARCHAR(100),
		SSN UNIQUEIDENTIFIER NOT NULL DEFAULT NEWID(),
		Email AS CONCAT(UPPER(LEFT(TRIM(FirstName),1)),ISNULL(LOWER(LEFT(TRIM(LastName),3)),''),'@mail.com'),
		Temp DEC(3,1),
		CreatedDate DATETIME NOT NULL DEFAULT GETDATE())
	;


7.	Добавить в таблицу несколько произвольных записей. 

	INSERT INTO Patients (FirstName,LastName,Temp)
	VALUES
		('John','Doe',36.8),
		('Jane','Doe',37.2),
		('Stella','Borghese',36.2)
	;


8.	Добавить поле TempType со следующими значениями ‘< 37°C’,  ‘> 37°C’ на основе значений из поля Temp ( используйте ALTER TABLE 
ADD column AS ). Посмотрите на данные, которые получились.

	ALTER TABLE Patients
	ADD TempType AS 
	CASE WHEN Temp>37 THEN '> 37°C' ELSE '< 37°C' END 
	;

	
9.	Создать представление Patients_v, показывающее температуру в градусах Фаренгейта (°F = °Cx9/5 + 32)

	--	DROP VIEW Patients_v
	CREATE VIEW  Patients_v AS 
	SELECT ID, FirstName, LastName, Temp, Temp * 9 / 5 + 32 AS TempF
	FROM Patients
	;


10.	Создать функцию, которая возвращает температуру в градусах Фаренгейта, при подаче на вход градусы в Цельсиях.

	CREATE FUNCTION dbo.udfTempF(
		@temp DEC(3,1)
	)
	RETURNS DEC(6,2)
	AS 
	BEGIN
		RETURN @temp * 9 / 5 + 32;
	END;

	SELECT dbo.udfTempF(36.8) tempF
	;


11.	Перепишите решение задачи g из прошлого дз с использованием переменной, максимально упрощая select.

	DECLARE @StartDate DATETIME,
			@DayNumber INT
	SET @StartDate = DATEADD(DAY,1,EOMONTH(GETDATE(),-1))
	SET @DayNumber = DATEPART(WEEKDAY,@StartDate)

	SET DATEFIRST 1
	SELECT CASE WHEN @DayNumber>5 THEN DATEADD(DAY,8-@DayNumber,@StartDate)
				ELSE @StartDate END AS FIRSTDAY
	;
